<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="partials/header :: header">
</head>
<body>
<div class="site-container">
    <div th:include="partials/navbar :: navbar">
    </div>
    <main style="font-family: 'Montserrat', sans-serif;" class="site-content">


        <!--div holding structure for contacts menu - EVENTUAL FOR EACH displaying LIST OF CONTACTS-->
        <div style="display: flex">

        <div th:style="${hasContacts == true ? 'display:block' : 'display:none'}">
            <div style="width: 20vw; height: 100vh; margin-right: 5px; overflow: scroll; border: 8px lightgrey solid; border-radius: 8px">
                <h4 style="color: #1777F2; font-size: 60px; padding-left: 7px">Contacts:</h4>
                <div th:each="contact : ${contactList}">
                     <!--style="margin: 100px"-->

                   <a th:href="@{/profile/{id}(id=${contact.getAdded_user_id().getId()})}">
                    <img th:src="@{'http://cdn.filestackcontent.com/' + ${contact.getAdded_user_id().getFilestack_picture_url()}}" alt="" id="profilePicture"
                         style="border: 6px solid #1777F2; border-radius: 50%; height: 150px; width: 150px;"></a>
                    <span th:text="${contact.getAdded_user_id().getFirst_name() + ' ' + contact.getAdded_user_id().getLast_name()}"></span>
                </div>
            </div>
        </div>

        <div th:style="${hasContacts == false ? 'display:block' : 'display:none'}">
            <div style="width: 20%; border: 8px lightgrey solid; border-radius: 8px">

                <span>Currently, you've got no contacts.</span>

            </div>
        </div>


        <!--FOREACH message OF list of messages :: PRINT; if NO MESSAGES, display == none! -->
            <div style="overflow: scroll; width: 77vw; height: 100vh" th:style="${messagingDisplay == true ? 'display:block' : 'display:none'}">
                <h1 style="margin-top: 0">Mailbox</h1>
                <h3 style="margin-bottom: 0">Inbox</h3>

                <div th:style="${inboxDisplay == true ? 'display:block' : 'display:none'}">
                    <div th:each="message : ${receivedMessages}" style="width: 77vw; border: 8px lightgrey solid; border-radius: 8px">

                        <div style="width: 80%; display: inline;">
                            <h2 style=" background-color: dodgerblue; color: white; width: 50%; border: lightgrey 2px solid; margin: 20px; border-radius: 8px"><p th:text="${message.body}"></p></h2>
                            Sent by <span th:text="${message.getSender_info().getFirst_name() + ' ' + message.getSender_info().getLast_name() + ' on ' + message.getDatetime()}"/>

                        </div>
                    </div>
                </div>
                <div th:style="${inboxDisplay == false ? 'display:block' : 'display:none'}">
                    <h5>Inbox empty!</h5>
                </div>


                <h3 style="margin-bottom: 0">Outbox</h3>

                <div th:style="${outboxDisplay == true ? 'display:block' : 'display:none'}">

                    <div th:each="message : ${sentMessages}" style="width: 77vw; border: 8px lightgrey solid; border-radius: 8px">
                        <div style="width: 80%; display: inline;">
                            <h2 style=" background-color: dodgerblue; color: white; width: 50%; border: lightgrey 2px solid; margin: 20px; border-radius: 8px"><p th:text="${message.body}"></p></h2>
                            Sent by <span th:text="${message.getSender_info().getFirst_name() + ' ' + message.getSender_info().getLast_name() + ' on ' + message.getDatetime()}"/>

                        </div>
                    </div>
                </div>

                <div th:style="${outboxDisplay == false ? 'display:block' : 'display:none'}">
                    <h5>Outbox empty!</h5>
                </div>

<!--            conversely if NO MESSAGES, display some kind of pithy remark for now :: refactor into real display -->

            <div th:style="${messagingDisplay == false ? 'display:block' : 'display:none'}">
                <h5>Mailbox empty</h5>
            </div>



        </div>
    </div>
    </main>
    <div th:include="partials/footer :: footer">
    </div>
</div>


<div class="mobile">
    <div>
        <div style=" margin-left: 1px; width: 95vw; height: 100%; border: 8px lightgrey solid; border-radius: 8px">
            <div th:each="contact : ${contactList}" style="margin: 100px">
                <img th:src="@{img/ken.jpeg}" alt=""
                     style="border: 6px solid #1777F2; border-radius: 50%; height: 50px; width: 50px;">
                <h2 th:text="${contact.getAdded_user_id().getFirst_name() + contact.getAdded_user_id().getLast_name()}"></h2>
            </div>
        </div>

        <!--div holding structure for eventual FOR EACH LOOP pulling LIST OF MESSAGES w/ METHODS BRINGING SENDER/RECEIVER NAMES-->
        <div style="width: 95vw; border: 8px lightgrey solid; border-radius: 8px">

<!--            <div style="width: 70%; height: 100%; display: inline;">-->
<!--                <h2 style=" background-color: dodgerblue; color: white; width: 50%; border: lightgrey 2px solid; margin: 20px; border-radius: 8px"><p th:text="${message.body}"></p></h2>-->
<!--                Sent by <span th:text="${sentUser.getFirst_name() + sentUser.getLast_name()}"/>-->
<!--                Received by <span th:text="${receivedUser.getFirst_name() + receivedUser.getLast_name()}"/>-->
<!--            </div>-->
        </div>
    </div>
    <div th:include="partials/navbar :: mobile-nav">
    </div>
</div>
</body>
</html>
